<div id="mailing-list-stats">
    <h1>MAILING LIST STATS</h1>
    <ul>
        <li>TOTAL SIGN UPS: <b><%= members.length %></b></li>
    </ul>
    <br>

    <h1>NUMBER OF REQUESTS PER SIZE</h1>
    <div class='table-responsive'>
        <table id="total-reqs-per-size-table" class="table table-borderless table-hover">
            <thead>
                <tr>
                    <th></th>
                    <th>TOP</th>
                    <th>BOTTOM</th>
                </tr>
            </thead>
            <tbody>
                <%_ var sizes = ["XS", "S", "M", "L", "XL", "XXL", "XXXL"];
                    sizes.forEach(size => { _%>
                <tr>
                    <th scope="row"><%= size %></th>
                    <td id="top-<%= size %>"><%= members.filter(m => m.size_top === size).length %></td>
                    <td id="bottom-<%= size %>"><%= members.filter(m => m.size_bottom === size).length %></td>
                </tr>
                <%_ }) _%>
            </tbody>
        </table>
    </div>
</div>

<style>
    #mailing-list-stats {
        max-width: 600px;
        margin: 0 auto 3em;
        border-radius: 10px;
        box-shadow: 0 0 15px grey;
        padding: 20px;
    }

    #mailing-list-stats h1 {
        padding-bottom: 1em;
        font-size: 1em;
    }

    #mailing-list-stats tr > * {
        width: 33.333%;
    }
</style>

<form method="POST" action="/homepage/content" id="homepage_content_form">
    <label for="banner_text">BANNER TEXT</label>
    <input type="text" name="banner_text" id="banner_text" value="<%= homepage_contents[0] ? homepage_contents[0].banner_text : '' %>">

    <label for="footnote_text">FOOTNOTE TEXT / QUOTE</label>
    <input type="text" name="footnote_text" id="footnote_text" value="<%= homepage_contents[0] ? homepage_contents[0].footnote_text : '' %>">

    <label>CS SOCIALS</label>
    <div class="social-media-input-group input-group row" style="display: block">
        <div class="social-media-input input-item">
            <div class="col-sm-4">
                <select name="socials_name" class="socials-name">
                    <option value="">Choose social</option>
                    <%_ ["Twitter", "Instagram", "Facebook", "Spotify", "YouTube", "SoundCloud", "Apple Music", "Tidal", "Bandcamp", "Deezer", "Google Play"].forEach(social => { _%>
                    <option value="<%= social.toLowerCase().replace(/ /g, '_') %>"><%= social %></option>
                    <%_ }) _%>
                </select>
            </div>
            <div class="col-sm-8">
                <input type="url" name="socials_url" class="socials-url" placeholder="Enter URL">
            </div>
            <div class="col-sm-12" style="text-align: right; margin-top: -1em;">
                <button class="add">ADD</button>
                <button class="remove">REMOVE</button>
            </div>
        </div>
    </div>

    <input type="submit" value="UPDATE SITE CONTENT">
</form>
<br>

<form method="POST" action="/homepage/image/save" id="homepage_images_form">
    <label for="homepage_image_input">HOMEPAGE IMAGE UPLOAD</label><br>
    <div class="input-group file-upload-container row" style="display: block">
        <div class="col-sm-6 col-xs-9"><input type="file" id="homepage_image_file" accept="image/*" required></div>
        <input type="hidden" name="image">
        <div class="col-sm-6 col-xs-3"><button class="clear-uploads" data-id="homepage_image_file">CLEAR</button></div>
    </div>

    <label for="homepage_image_filename">IMAGE NAME <span>(Automatically appears when you upload images, but feel free to rename)</span></label>
    <input type="text" name="filename" id="homepage_image_filename" required>

    <%_ var newPosition = homepage_images.length + 1; _%>
    <label for="homepage_image_index">IMAGE POSITION NUMBER</label><br>
    <input type="number" name="index" id="homepage_image_index" min="1" max="<%= newPosition %>" value="<%= newPosition %>" required>

    <input type="submit" value="UPLOAD HOMEPAGE IMAGES">
</form>
